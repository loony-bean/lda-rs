Two House committees on Thursday approved legislation that would sever virtually all economic ties between the United States and South Africa to pressure the Pretoria government to abandon its policy of racial apartheid. The measure was approved by the Intelligence and Armed Services committees, both meeting in closed-door sessions, after amendments were added that would permit the United States to share intelligence information about Cuban military activities in southern Africa and permit military cooperation with South Africa if the president determines such ties to be in the national interest, committee aides said. The bill, which still must clear two more committees before it can go to the full House for action, would require U.S. disinvestment in South Africa within a year and ban most trade between the two countries. As originally written, the bill also would have banned military and intelligence cooperation. But the two committees added language creating an exemption for diplomatic activities and intelligence sharing concerning Cuban activities in Angola, where U.S.-backed rebels are fighting the Marxist government. Committee aides said the exemption was granted in part to avoid having the sanctions bill become a vehicle for a renewed debate over U.S. support for the Angolan rebels. The Armed Services panel also approved an amendment by Rep. Jon Kyl, R-Ariz., permitting military cooperation if the president deems it in the national interest. Both committees reported the bill out on voice votes. The measure still must clear the Ways and Means and Interior committees before being considered by the full House, where it is expected to pass. The measure is expected to have a tougher time in the Senate, however, because it lacks the Republican support which was crucial to passage of a limited sanctions bill two years ago.